apiVersion: v1
kind: ConfigMap
metadata:
  name: backend-config
  namespace: pii-multiagent
data:
  # Azure OpenAI (shared - no change)
  AZURE_OPENAI_ENDPOINT: "https://aoai-ep-swedencentral02.openai.azure.com/"
  # Model deployments - separate for agents vs orchestrator
  AZURE_OPENAI_AGENT_DEPLOYMENT: "gpt-5-nano"        # Lighter model for individual agents
  AZURE_OPENAI_ORCHESTRATOR_DEPLOYMENT: "gpt-5-mini" # More capable model for orchestration
  AZURE_OPENAI_DEPLOYMENT: "gpt-5-nano"              # Legacy fallback
  AZURE_OPENAI_DEPLOYMENT_NAME: "gpt-5-nano"         # Legacy naming
  AZURE_TEXT_EMBEDDING_DEPLOYMENT_NAME: "text-embedding-3-small"

  # Azure AI Search (shared - no change)
  AZURE_SEARCH_ENDPOINT: "https://chatops-ozguler.search.windows.net"
  AZURE_SEARCH_INDEX_NAME: "nport-funds-index"
  RAPTOR_INDEX_NAME: "imf_raptor"

  # PII Detection (shared - no change)
  PII_ENDPOINT: "http://pii-ozguler.eastus.azurecontainer.io:5000"
  PII_CONTAINER_ENDPOINT: "http://pii-ozguler.eastus.azurecontainer.io:5000"

  # PostgreSQL (shared - READ ONLY)
  PGHOST: "aistartupstr.postgres.database.azure.com"
  PGPORT: "5432"
  PGDATABASE: "fundrag"
  PGUSER: "ozgurguler"
  PG_FUND_SCHEMA: "nport_funds"

  # Redis (use BACKEND_REDIS_* to avoid K8s service discovery conflicts)
  BACKEND_REDIS_HOST: "redis"
  BACKEND_REDIS_PORT: "6379"

  # App config
  LOG_LEVEL: "INFO"
  PYTHONPATH: "/app"
